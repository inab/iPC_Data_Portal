'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _graphql = require('graphql');

var _error = require('graphql/error');

var _language = require('graphql/language');

var _isURL = require('./isURL');

var _isURL2 = _interopRequireDefault(_isURL);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var coerceURL = function coerceURL(value) {
  if (!(0, _isURL2.default)(value)) {
    var message = 'URL can\'t represent value: ' + value;
    throw new TypeError(message);
  }
  return value;
};

var GraphQLURL = new _graphql.GraphQLScalarType({
  name: 'URL',
  serialize: coerceURL,
  parseValue: coerceURL,
  parseLiteral: function parseLiteral(valueNode) {
    var kind = valueNode.kind,
        value = valueNode.value;

    if (kind !== _language.Kind.STRING || !(0, _isURL2.default)(value)) {
      throw new _error.GraphQLError('Expected URL value but got: ' + value, [valueNode]);
    }
    return value;
  }
});

exports.default = GraphQLURL;