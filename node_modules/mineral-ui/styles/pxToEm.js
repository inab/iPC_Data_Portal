'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };
/**
 * Helper to convert a px value to ems, relative to the base font size
 */


exports.default = pxToEm;

var _fontSizeBase = require('../themes/fontSizeBase');

var _fontSizeBase2 = _interopRequireDefault(_fontSizeBase);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var REGEX_NUM_OR_END_IN_PX = /^[\d.]+(px)?$/;

var convert = function convert(input) {
  return input / parseInt(_fontSizeBase2.default) + 'em';
};

var errorMsg = function errorMsg(actual) {
  var value = typeof actual === 'string' ? actual : typeof actual === 'undefined' ? 'undefined' : _typeof(actual);
  return '[mineral-ui/styles/pxToEm]: Expected a number or string in px units. Instead got: \'' + value + '\'.';
};

function pxToEm(value) {
  if (typeof value === 'number') {
    return convert(value);
  }
  if (typeof value === 'string' && REGEX_NUM_OR_END_IN_PX.test(value)) {
    return convert(parseFloat(value));
  }
  throw new Error(errorMsg(value));
}