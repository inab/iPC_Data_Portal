{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"TermFilter\", {\n  enumerable: true,\n  get: function get() {\n    return _TermFilter[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"RangeFilter\", {\n  enumerable: true,\n  get: function get() {\n    return _RangeFilter[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"BooleanFilter\", {\n  enumerable: true,\n  get: function get() {\n    return _BooleanFilter[\"default\"];\n  }\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _TermFilter = _interopRequireDefault(require(\"./TermFilter\"));\n\nvar _RangeFilter = _interopRequireDefault(require(\"./RangeFilter\"));\n\nvar _BooleanFilter = _interopRequireDefault(require(\"./BooleanFilter\"));\n\nvar _ExtendedMappingProvider = _interopRequireDefault(require(\"../../utils/ExtendedMappingProvider\"));\n\nvar _api = _interopRequireDefault(require(\"../../utils/api\"));\n\nvar _config = require(\"../../utils/config\");\n\nvar _common = require(\"./common\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar FieldOpModifier = function FieldOpModifier(_ref) {\n  var sqonPath = _ref.sqonPath,\n      initialSqon = _ref.initialSqon,\n      onSubmit = _ref.onSubmit,\n      onCancel = _ref.onCancel,\n      fieldDisplayNameMap = _ref.fieldDisplayNameMap,\n      opDisplayNameMap = _ref.opDisplayNameMap,\n      _ref$ContainerCompone = _ref.ContainerComponent,\n      ContainerComponent = _ref$ContainerCompone === void 0 ? _common.FilterContainer : _ref$ContainerCompone,\n      _ref$api = _ref.api,\n      api = _ref$api === void 0 ? _api[\"default\"] : _ref$api,\n      field = _ref.field,\n      _ref$arrangerProjectI = _ref.arrangerProjectId,\n      arrangerProjectId = _ref$arrangerProjectI === void 0 ? _config.PROJECT_ID : _ref$arrangerProjectI,\n      arrangerProjectIndex = _ref.arrangerProjectIndex,\n      _ref$getExecutableSqo = _ref.getExecutableSqon,\n      getExecutableSqon = _ref$getExecutableSqo === void 0 ? function () {\n    return initialSqon;\n  } : _ref$getExecutableSqo;\n  return _react[\"default\"].createElement(_ExtendedMappingProvider[\"default\"], {\n    api: api,\n    projectId: arrangerProjectId,\n    graphqlField: arrangerProjectIndex,\n    field: field\n  }, function (_ref2) {\n    var loading = _ref2.loading,\n        extendedMapping = _ref2.extendedMapping;\n    var fieldExtendedMapping = (extendedMapping || []).find(function (_ref3) {\n      var _field = _ref3.field;\n      return field === _field;\n    }); // temporary, needs to handle errors too\n\n    console.log('fieldExtendedMapping: ', fieldExtendedMapping);\n\n    var _ref4 = fieldExtendedMapping || {},\n        type = _ref4.type,\n        unit = _ref4.unit;\n\n    return ['keyword', 'id'].includes(type) ? _react[\"default\"].createElement(_TermFilter[\"default\"], {\n      field: field,\n      arrangerProjectId: arrangerProjectId,\n      arrangerProjectIndex: arrangerProjectIndex,\n      api: api,\n      loading: loading,\n      sqonPath: sqonPath,\n      initialSqon: initialSqon,\n      executableSqon: getExecutableSqon(),\n      onSubmit: onSubmit,\n      onCancel: onCancel,\n      fieldDisplayNameMap: fieldDisplayNameMap,\n      opDisplayNameMap: opDisplayNameMap,\n      ContainerComponent: ContainerComponent\n    }) : ['long', 'float', 'integer', 'date'].includes(type) ? _react[\"default\"].createElement(_RangeFilter[\"default\"], {\n      field: field,\n      loading: loading,\n      sqonPath: sqonPath,\n      initialSqon: initialSqon,\n      executableSqon: getExecutableSqon(),\n      onSubmit: onSubmit,\n      onCancel: onCancel,\n      fieldDisplayNameMap: fieldDisplayNameMap,\n      opDisplayNameMap: opDisplayNameMap,\n      ContainerComponent: ContainerComponent,\n      unit: unit\n    }) : ['boolean'].includes(type) ? _react[\"default\"].createElement(_BooleanFilter[\"default\"], {\n      field: field,\n      api: api,\n      arrangerProjectId: arrangerProjectId,\n      arrangerProjectIndex: arrangerProjectIndex,\n      sqonPath: sqonPath,\n      initialSqon: initialSqon,\n      executableSqon: getExecutableSqon(),\n      onSubmit: onSubmit,\n      onCancel: onCancel,\n      fieldDisplayNameMap: fieldDisplayNameMap,\n      opDisplayNameMap: opDisplayNameMap,\n      ContainerComponent: ContainerComponent\n    }) : _react[\"default\"].createElement(ContainerComponent, {\n      onSubmit: onSubmit,\n      onCancel: onCancel\n    }, _react[\"default\"].createElement(\"div\", {\n      className: \"unhandledFieldType\"\n    }, \"Unhandled field type: \", type));\n  });\n};\n\nFieldOpModifier.prototype = {\n  sqonPath: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].number),\n  initialSqon: _propTypes[\"default\"].object,\n  onSubmit: _propTypes[\"default\"].func,\n  onCancel: _propTypes[\"default\"].func,\n  fieldDisplayNameMap: _propTypes[\"default\"].objectOf(_propTypes[\"default\"].string),\n  opDisplayNameMap: _propTypes[\"default\"].objectOf(_propTypes[\"default\"].string),\n  ContainerComponent: _propTypes[\"default\"].any,\n  api: _propTypes[\"default\"].func,\n  field: _propTypes[\"default\"].string,\n  arrangerProjectId: _propTypes[\"default\"].string,\n  arrangerProjectIndex: _propTypes[\"default\"].string.isRequired,\n  getExecutableSqon: _propTypes[\"default\"].func\n};\nvar _default = FieldOpModifier;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}