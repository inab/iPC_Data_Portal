{"ast":null,"code":"import _objectSpread from\"/home/acanosa/React_arranger_template/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/home/acanosa/React_arranger_template/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _classCallCheck from\"/home/acanosa/React_arranger_template/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/acanosa/React_arranger_template/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/acanosa/React_arranger_template/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/acanosa/React_arranger_template/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/acanosa/React_arranger_template/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import classes from'./Search.module.css';import{PORTAL_NAME,ACTIVE_INDEX,ACTIVE_INDEX_NAME,PROJECT_ID,deleteValue,setValue}from'@arranger/components/dist/utils/config';import State from'@arranger/components/dist/State';import{Arranger,GetProjects,Aggregations,CurrentSQON,Table}from'@arranger/components/dist/Arranger';var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);function Search(){_classCallCheck(this,Search);return _possibleConstructorReturn(this,_getPrototypeOf(Search).apply(this,arguments));}_createClass(Search,[{key:\"render\",value:function render(){var ChooseProject=function ChooseProject(_ref){var _projects$find2,_projects$find2$types,_projects$find2$types2;var index=_ref.index,projectId=_ref.projectId,update=_ref.update,projects=_ref.projects;return React.createElement(\"div\",{css:\"\\n            display: flex;\\n            flex-direction: column;\\n            align-items: center;\\n            height: 100%;\\n            justify-content: center;\\n          \"},React.createElement(\"h2\",{css:\"\\n              margin-top: 0;\\n            \"},PORTAL_NAME),React.createElement(\"select\",{value:projectId,onChange:function onChange(e){setValue('PROJECT_ID',e.target.value);update({projectId:e.target.value});}},React.createElement(\"option\",{id:\"version\"},\"Select a version\"),projects.map(function(x){return React.createElement(\"option\",{key:x.id,value:x.id},x.id);})),React.createElement(\"select\",{value:index,onChange:function onChange(e){var _projects$find,_projects$find$types;setValue('ACTIVE_INDEX',e.target.value);var graphqlField=(_projects$find=projects.find(function(x){return x.id===projectId;}))===null||_projects$find===void 0?void 0:(_projects$find$types=_projects$find.types)===null||_projects$find$types===void 0?void 0:_projects$find$types.types.find(function(x){return x.index===e.target.value;}).name;setValue('ACTIVE_INDEX_NAME',graphqlField);update({index:e.target.value,graphqlField:graphqlField});}},React.createElement(\"option\",{id:\"version\"},\"Select an index\"),(_projects$find2=projects.find(function(x){return x.id===projectId;}))===null||_projects$find2===void 0?void 0:(_projects$find2$types=_projects$find2.types)===null||_projects$find2$types===void 0?void 0:(_projects$find2$types2=_projects$find2$types.types)===null||_projects$find2$types2===void 0?void 0:_projects$find2$types2.map(function(x){return React.createElement(\"option\",{key:x.index,value:x.index},x.index);})));};var Portal=function Portal(_ref2){var style=_ref2.style,props=_objectWithoutProperties(_ref2,[\"style\"]);return React.createElement(\"div\",{style:_objectSpread({display:'flex'},style)},React.createElement(\"div\",null,React.createElement(CurrentSQON,props),React.createElement(Table,props)));};return React.createElement(React.Fragment,null,React.createElement(State,{initial:{index:ACTIVE_INDEX,graphqlField:ACTIVE_INDEX_NAME,projectId:PROJECT_ID},render:function render(_ref3){var index=_ref3.index,graphqlField=_ref3.graphqlField,projectId=_ref3.projectId,update=_ref3.update;return index&&projectId?React.createElement(Arranger,{disableSocket:true,index:index,graphqlField:graphqlField,projectId:projectId,render:function render(props){return React.createElement(React.Fragment,null,React.createElement(Portal,_objectSpread({},props,{graphqlField:graphqlField,projectId:projectId})));}}):React.createElement(GetProjects,{render:function render(props){return React.createElement(ChooseProject,Object.assign({},props,{index:index,projectId:projectId,update:update}));}});}}));}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["/home/acanosa/React_arranger_template/src/containers/Search/Search.js"],"names":["React","Component","classes","PORTAL_NAME","ACTIVE_INDEX","ACTIVE_INDEX_NAME","PROJECT_ID","deleteValue","setValue","State","Arranger","GetProjects","Aggregations","CurrentSQON","Table","Search","ChooseProject","index","projectId","update","projects","e","target","value","map","x","id","graphqlField","find","types","name","Portal","style","props","display"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport classes from './Search.module.css';\n\nimport {\n  PORTAL_NAME,\n  ACTIVE_INDEX,\n  ACTIVE_INDEX_NAME,\n  PROJECT_ID,\n  deleteValue,\n  setValue,\n} from '@arranger/components/dist/utils/config';\n\nimport State from '@arranger/components/dist/State';\n\nimport {\n  Arranger,\n  GetProjects,\n  Aggregations,\n  CurrentSQON,\n  Table\n} from '@arranger/components/dist/Arranger';\n\n\nclass Search extends Component {\n\n  render() {\n\n    const ChooseProject = ({ index, projectId, update, projects }) => {\n      return (\n        <div\n          css={`\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            height: 100%;\n            justify-content: center;\n          `}\n        >\n          <h2\n            css={`\n              margin-top: 0;\n            `}\n          >\n            {PORTAL_NAME}\n          </h2>\n          <select\n            value={projectId}\n            onChange={e => {\n              setValue('PROJECT_ID', e.target.value);\n              update({\n                projectId: e.target.value,\n              });\n            }}\n          >\n            <option id=\"version\">Select a version</option>\n            {projects.map(x => (\n              <option key={x.id} value={x.id}>\n                {x.id}\n              </option>\n            ))}\n          </select>\n          <select\n            value={index}\n            onChange={e => {\n              setValue('ACTIVE_INDEX', e.target.value);\n\n              let graphqlField = projects\n                .find(x => x.id === projectId)\n                ?.types ?.types.find(x => x.index === e.target.value).name;\n\n              setValue('ACTIVE_INDEX_NAME', graphqlField);\n              update({\n                index: e.target.value,\n                graphqlField,\n              });\n            }}\n          >\n            <option id=\"version\">Select an index</option>\n            {projects\n              .find(x => x.id === projectId)\n              ?.types ?.types ?.map(x => (\n                <option key={x.index} value={x.index}>\n                  {x.index}\n                </option>\n              ))}\n          </select>\n        </div>\n      );\n    };\n\n    const Portal = ({ style, ...props }) => {\n      return (\n        <div style={{ display: 'flex', ...style }}>\n          {/*<Aggregations\n            style={{ width: 300 }}\n            componentProps={{\n              getTermAggProps: () => ({\n                maxTerms: 3,\n              }),\n            }}\n            {...props}\n          />*/}\n          <div\n          >\n            <CurrentSQON {...props} />\n            <Table {...props} />\n          </div>\n        </div>\n      );\n    };\n\n    return (\n\n      <React.Fragment>\n\n        <State\n          initial={{\n            index: ACTIVE_INDEX,\n            graphqlField: ACTIVE_INDEX_NAME,\n            projectId: PROJECT_ID,\n          }}\n          render={({ index, graphqlField, projectId, update }) => {\n            return index && projectId ? (\n              <Arranger\n                disableSocket\n                index={index}\n                graphqlField={graphqlField}\n                projectId={projectId}\n                render={props => {\n                  return (\n                    <React.Fragment>\n                      <Portal {...{ ...props, graphqlField, projectId }} />\n                    </React.Fragment>\n                  );\n                }}\n              />) : (\n                <GetProjects\n                  render={props => (\n                    <ChooseProject\n                      {...props}\n                      index={index}\n                      projectId={projectId}\n                      update={update}\n                    />\n                  )}\n                />\n              );\n          }}\n        />\n\n      </React.Fragment>\n\n    )\n  }\n}\n\nexport default Search;\n\n"]},"metadata":{},"sourceType":"module"}