{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define([], t) : \"object\" == typeof exports ? exports[\"React-OpenIdConnect\"] = t() : e[\"React-OpenIdConnect\"] = t();\n}(\"undefined\" != typeof self ? self : this, function () {\n  return webpackJsonpReact_OpenIdConnect([1], {\n    2: function (e, t, n) {\n      \"use strict\";\n\n      function i(e, t) {\n        if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n      }\n\n      function r(e, t) {\n        if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t;\n      }\n\n      function o(e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            enumerable: !1,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n      }\n\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n\n      var s = n(3),\n          a = n.n(s),\n          u = n(7),\n          c = n.n(u),\n          d = n(10),\n          l = (n.n(d), function () {\n        function e(e, t) {\n          for (var n = 0; n < t.length; n++) {\n            var i = t[n];\n            i.enumerable = i.enumerable || !1, i.configurable = !0, \"value\" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);\n          }\n        }\n\n        return function (t, n, i) {\n          return n && e(t.prototype, n), i && e(t, i), t;\n        };\n      }()),\n          f = function (e) {\n        function t(e) {\n          i(this, t);\n          var n = r(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));\n          return n.signin = n.signin.bind(n), n.onUserLoaded = n.onUserLoaded.bind(n), n.state = {\n            isAuthenticated: !1\n          }, n;\n        }\n\n        return o(t, e), l(t, [{\n          key: \"componentWillMount\",\n          value: function () {\n            var e = this;\n            this.userManager = new d.UserManager(this.props.OidcSettings), this.userManager.events.addUserLoaded(this.onUserLoaded), this.userManager.events.addUserUnloaded(this.onUserUnloaded), this.userManager.getUser().then(function (t) {\n              null !== t && void 0 !== t ? e.onUserLoaded(t) : window.location.href.includes(\"#id_token\") && e.userManager.signinRedirectCallback().then(function () {\n                window.history.replaceState({}, \"\", \"/\");\n              }).catch(function (e) {\n                console.log(\"Error signinRedirectCallback: \", e);\n              });\n            });\n          }\n        }, {\n          key: \"onUserLoaded\",\n          value: function (e) {\n            this.setState({\n              isAuthenticated: !0\n            }), this.props.userLoaded(e);\n          }\n        }, {\n          key: \"onUserUnloaded\",\n          value: function () {\n            this.setState({\n              isAuthenticated: !1\n            }), this.props.userUnLoaded();\n          }\n        }, {\n          key: \"signin\",\n          value: function () {\n            this.userManager.signinRedirect().then(function () {\n              console.log(\"signinRedirect ok\");\n            }).catch(function (e) {\n              console.log(\"signinRedirect error:\", e);\n            });\n          }\n        }, {\n          key: \"render\",\n          value: function () {\n            return this.state.isAuthenticated ? this.props.children : a.a.createElement(\"div\", {\n              onClick: this.signin\n            }, this.props.renderNotAuthenticated());\n          }\n        }]), t;\n      }(s.Component);\n\n      f.defaultProps = {\n        OidcSettings: {},\n        userUnLoaded: null,\n        userLoaded: null,\n        renderNotAuthenticated: null\n      }, f.propTypes = {\n        OidcSettings: c.a.shape({\n          authority: c.a.string.isRequired,\n          client_id: c.a.string.isRequired,\n          redirect_uri: c.a.string.isRequired,\n          post_logout_redirect_uri: c.a.string.isRequired,\n          response_type: c.a.string.isRequired,\n          scope: c.a.string.isRequired\n        }).isRequired,\n        userLoaded: c.a.func,\n        userUnLoaded: c.a.func,\n        renderNotAuthenticated: c.a.func.isRequired\n      }, t.default = f;\n    }\n  }, [2]);\n});","map":null,"metadata":{},"sourceType":"script"}